<template name="game">
  
  <h2 align="center">Game</h2>

  {{#if invalid}}
    <p>Warning: Invalid game ID in URL.</p>
  {{else}}

    {{#with game}}
      {{> game_meta_data}}
   
      <br />
      <br />

      {{> game_boards ownBoard=ownBoard attackBoard=attackBoard}}

      <br />
      <br />

      {{> game_actions}}
    {{/with}}
  {{/if}}
</template>

<template name="game_meta_data">
  <table align="center">
    <tr>
      <td>
        <div class="c1"><strong>Player 1</strong></div>
      </td>
      <td>
        <div class="c2"></div>
      </td>
      <td>
        <div class="c3"><strong>Player 2</strong></div>
      </td>
    </tr>
    <tr>
      <td>
        <div class="c1">{{ownName}}</div>
      </td>
      <td>
        <div class="c2"><strong>Turn</strong></div>
      </td>
      <td>
        <div class="c3">{{opponentName}}</div>
      </td>
    </tr>
    <tr>
      <td></td>
      <td><div class="c2">{{turn_number}}</div></td>
      <td></td>
    </tr>
  </table>
</template>

<template name="game_boards">
  <table align="center">
    <tr>
      <td width="600px" align="center">
        <strong>Your Board</strong>
      </td>
      <td width="600px" align="center">
        <strong>Their Board</strong>
      </td>
    </tr>
    <tr>
      <td align="center">
        {{> board board=ownBoard.squares}}
      </td>
      <td align="center">
        {{> board board=attackBoard.squares}}
      </td>
    </tr>
    <tr>
      <td align="center">
        {{> sunk_ships sunk=ownBoard.sunk}}
      </td>
      <td align="center">
        {{> sunk_ships sunk=attackBoard.sunk}}
      </td>
    </tr>
  </table>
</template>

<template name="sunk_ships">
  Ships sunk:
  <ul class="sunkships">
  {{#if sunk}}
    {{#each sunk}}
      <li>{{this}}</li>
    {{/each}}
  {{else}}
    <li>None yet!</li>
  {{/if}}
  </ul>
</template>

<template name="game_actions">
  <form>
    <table align="center">
      <tr>
        <td align="center">
          <input type="text" name="selection" id="selection" disabled="true" size="5" />
        </td>
      </tr>
      <tr>
        <td align="center">
          <input type="submit" value="Fire!" />
        </td>
      </tr>
    </table>
  </form>
</template>