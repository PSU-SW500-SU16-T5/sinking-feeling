<template name="game">
  
  <h2 align="center">Game</h2>

  {{#if invalid}}
    <p>Warning: Invalid game ID in URL.</p>
  {{else}}

    {{#with game}}
      {{> game_meta_data}}
   
      <br />
      <br />

      {{> game_boards ownBoard=ownBoard attackBoard=attackBoard}}

      <br />
      <br />

      {{> game_actions}}
    {{/with}}
  {{/if}}
</template>

<template name="board">
  <table class="board">
    <tr>
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
      <th>E</th>
      <th>F</th>
      <th>G</th>
      <th>H</th>
      <th>I</th>
      <th>J</th>
    </tr>
    {{#each board}}
      {{> board_row data=this row=@index }}
    {{/each}}
  </table>
</template>

<template name="board_row">
  <tr>
    <th>{{row}}</th>
    {{#each data}}
      {{> board_cell row=../row col=@index ship=this}}
    {{/each}}
  </tr>
</template>

<template name="board_cell">
  <td class="cell {{className}} {{#if selected}}selected{{/if}}"
  data-state="{{val}}" data-cell="{{cell}}">
    <img src={{symbol}}>
  </td>
</template>

<template name="game_meta_data">
  <table align="center">
    <tr>
      <td>
        <div class="c1"><strong>Player 1</strong></div>
      </td>
      <td>
        <div class="c2"></div>
      </td>
      <td>
        <div class="c3"><strong>Player 2</strong></div>
      </td>
    </tr>
    <tr>
      <td>
        <div class="c1">{{creator.user}}</div>
      </td>
      <td>
        <div class="c2"><strong>Turn</strong></div>
      </td>
      <td>
        <div class="c3">{{computer_id}}</div>
      </td>
    </tr>
    <tr>
      <td></td>
      <td><div class="c2">{{turn_number}}</div></td>
      <td></td>
    </tr>
  </table>
</template>

<template name="game_boards">
  <table align="center">
    <tr>
      <td width="600px" align="center">
        <strong>Your Board</strong>
      </td>
      <td width="600px" align="center">
        <strong>Their Board</strong>
      </td>
    </tr>
    <tr>
      <td align="center">
        {{> board board=ownBoard}}
      </td>
      <td align="center">
        {{> board board=attackBoard}}
      </td>
    </tr>
  </table>
</template>

<template name="game_actions">
  <form>
    <table align="center">
      <tr>
        <td align="center">
          <input type="text" name="selection" id="selection" disabled="true" size="5" />
        </td>
      </tr>
      <tr>
        <td align="center">
          <input type="submit" value="Fire!" />
        </td>
      </tr>
    </table>
  </form>
</template>